(self["webpackChunkrtc_frontend"]=self["webpackChunkrtc_frontend"]||[]).push([[112],{112:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Z});l(71);var n=l(3673),o=l(4152),a=l.n(o),s=l(3116),i=l.n(s);const m=(0,n.HX)("data-v-76343fce");(0,n.dD)("data-v-76343fce");const r={class:"header"},c={class:"inner-header flex"},p={id:"loginbox"},u={id:"right1"},d={id:"mark"},f={class:"q-pa-md",id:"form",style:{"max-width":"400px","margin-top":"15px"}},g={class:"btnform"},h={id:"right2",style:{display:"none"}},y={class:"q-pa-md",id:"form2",style:{"max-width":"400px"}},v={class:"input"},x={key:1,src:i(),style:{"border-radius":"50%",width:"100px",height:"100px"},id:"thumb"},k=(0,n.Uk)("Upload Image"),w=(0,n.Wm)("div",{style:{height:"10px"}},null,-1),W={class:"btnform"},b=(0,n.Wm)("div",{id:"left"},null,-1),C=(0,n.Wm)("div",null,[(0,n.Wm)("svg",{class:"waves",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"},[(0,n.Wm)("defs",null,[(0,n.Wm)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})]),(0,n.Wm)("g",{class:"parallax"},[(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"0",fill:"rgba(255,255,255,0.7"}),(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}),(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}),(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"7",fill:"#fff"})])])],-1),N=(0,n.Wm)("div",{class:"content flex"},null,-1);(0,n.Cn)();const B=m(((e,t,l,o,s,i)=>{const B=(0,n.up)("q-img"),F=(0,n.up)("q-input"),I=(0,n.up)("q-icon"),O=(0,n.up)("q-btn"),z=(0,n.up)("q-form"),E=(0,n.up)("q-select");return(0,n.wg)(),(0,n.j4)(n.HY,null,[(0,n.Wm)("div",r,[(0,n.Wm)("div",c,[(0,n.Wm)("div",p,[(0,n.Wm)("div",u,[(0,n.Wm)("div",d,[(0,n.Wm)(B,{src:a(),style:{width:"200px","margin-left":"145px","margin-top":"30px"}})]),(0,n.Wm)("div",f,[(0,n.Wm)(z,{class:"q-gutter-md",ref:"signupForm",model:e.state.form},{default:m((()=>[(0,n.Wm)(F,{class:"input",filled:"",label:"ID *",color:"teal",modelValue:e.state.form.userId,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.form.userId=t),onBlur:e.checkId,"lazy-rules":"",rules:[e=>!!e||"필수입력항목 입니다.",e=>e.length>1&&e.length<=16||"2 ~ 16자까지 입력 가능합니다. "]},null,8,["modelValue","onBlur","rules"]),(0,n.Wm)(F,{class:"input",filled:"",label:"Name *",color:"teal",modelValue:e.state.form.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.form.name=t),"lazy-rules":"",rules:[e=>!!e||"필수입력항목 입니다.",e=>e.length>1&&e.length<=16||"2 ~ 16자까지 입력 가능합니다. ",e.checkName]},null,8,["modelValue","rules"]),(0,n.Wm)(F,{class:"input",filled:"",type:e.isPwd?"password":"text",label:"Password *",color:"teal",modelValue:e.state.form.password,"onUpdate:modelValue":t[4]||(t[4]=t=>e.state.form.password=t),"lazy-rules":"",rules:[e=>e&&e.length>0||"필수입력항목 입니다.",e.checkPassWord]},{append:m((()=>[(0,n.Wm)(I,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[3]||(t[3]=t=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["type","modelValue","rules"]),(0,n.Wm)("div",g,[(0,n.Wm)(O,{onClick:e.back,flat:"",style:{color:"#00BF6F","margin-right":"10px"},label:"← Login"},null,8,["onClick"]),(0,n.Wm)(O,{onClick:e.next,label:"Next",style:{"background-color":"#00BF6F"}},null,8,["onClick"])])])),_:1},8,["model"])])]),(0,n.Wm)("div",h,[(0,n.Wm)("div",y,[(0,n.Wm)("div",v,[e.state.tmp?((0,n.wg)(),(0,n.j4)("img",{key:0,src:e.state.tmp,style:{"border-radius":"50%",width:"100px",height:"100px"},id:"thumb"},null,8,["src"])):((0,n.wg)(),(0,n.j4)("img",x)),(0,n.Wm)("div",null,[(0,n.Wm)(O,{onClick:e.imgLabelClick,style:{"background-color":"#00BF6F"}},{default:m((()=>[k])),_:1},8,["onClick"]),(0,n.Wm)("input",{ref:"imageInput",type:"file",style:{color:"black",opacity:"0"},onChange:t[5]||(t[5]=(...t)=>e.onChangeImages&&e.onChangeImages(...t)),accept:".jpg, .jpeg, .png, .gif",id:"profile_img_upload"},null,544)])]),(0,n.Wm)(z,{class:"q-gutter-md",ref:"signupForm",model:e.state.form},{default:m((()=>[(0,n.Wm)(F,{class:"input",filled:"",label:"Email *",type:"email",color:"teal",modelValue:e.state.form.email,"onUpdate:modelValue":t[6]||(t[6]=t=>e.state.form.email=t),"lazy-rules":"",rules:[e=>!!e||"필수입력항목 입니다.",e.checkEmail]},null,8,["modelValue","rules"]),(0,n.Wm)(E,{id:"dptId",class:"input",filled:"",modelValue:e.state.form.department,"onUpdate:modelValue":t[7]||(t[7]=t=>e.state.form.department=t),options:e.options,label:"부서 선택"},null,8,["modelValue","options"]),w,(0,n.Wm)("div",W,[(0,n.Wm)(O,{onClick:e.back2,flat:"",style:{color:"#00BF6F","margin-right":"10px"},label:"← Back"},null,8,["onClick"]),(0,n.Wm)(O,{onClick:e.validate,label:"Submit",type:"button",style:{"background-color":"#00BF6F"}},null,8,["onClick"])])])),_:1},8,["model"])])]),b])]),C]),N],64)}));l(7965);var F=l(1959),I=l(9582),O=l(7874);const z=(0,n.aZ)({name:"signup",methods:{back(){this.$router.push("/")}},setup(){const e=(0,F.iH)(null),t=(0,F.qj)({tmp:null,form:{userId:"",name:"",password:"",email:"",image:"",department:""}}),o=(0,I.tv)(),a=(0,O.oR)(),s=l(1770),i=(0,n.Fl)((()=>a.getters["module/getDepartmentInfo"])),m=[];for(let l=0;l<i.value.length;l++)m.push(i.value[l].departmentName);function r(){console.log("아이디중복체크"),a.dispatch("module/requestCheckId",t.form.userId).then((function(e){return 200===e.status&&s.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">사용할 수 있는 아이디입니다.</span>',confirmButtonColor:"#19CE60",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}),!0})).catch((function(e){return 409===e.request.status?(console.log("아이디 중복오류"),s.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">이미 존재하는 아이디입니다.</span>',confirmButtonColor:"#ce1919",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'})):console.log(e),!1}))}function c(e){const t=/[ㄱ-ㅎㅏ-ㅣ가-힣]/g;return t.test(e)||"한글만 입력가능합니다."}function p(e){const t=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{6,}$/;return t.test(e)||"최소 각 하나의 문자, 숫자, 특수 문자가 포함되어야 합니다."}function u(e){const t=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;return t.test(e)||"이메일 형식이 잘못되었습니다."}function d(){return""===t.form.department?(s.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">부서를 선택 해주세요.</span>',confirmButtonColor:"#19CE60",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}),!1):""===t.form.image?(s.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">프로필 사진을 업로드해주세요.</span>',confirmButtonColor:"#19CE60",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}),!1):void e.value.validate().then((e=>{if(e){const e=document.getElementById("profile_img_upload"),l=new FormData;l.append("profile",e.files[0]),l.append("userId",t.form.userId),l.append("name",t.form.name),l.append("password",t.form.password),l.append("email",t.form.email);let n=-1;for(let o=0;o<i.value.length;o++)if(m[o]===t.form.department){n=o+1;break}l.append("department",n),a.dispatch("module/requestSignup",l).then((function(e){console.log(e),s.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">회원가입이 완료되었습니다.</span>',confirmButtonColor:"#19CE60",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}).then((function(){o.push("/")}))})).catch((function(e){alert(e)}))}else s.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">회원가입이 유효하지 않습니다.</span>',confirmButtonColor:"#ce1919",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'})}))}function f(){this.$refs.imageInput.click()}function g(e){const t=e.target.files[0],l=5242880,n=t.size;n>l?s.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">30MB 이하 파일만 등록할 수 있습니다.</span>',confirmButtonColor:"#ce1919",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}):(this.state.tmp=URL.createObjectURL(t),this.state.form.image=t)}function h(){const e=document.getElementById("profile_img_upload");console.log(e),e.click()}function y(){document.getElementById("right1").style.display="none",document.getElementById("right2").style.display="block"}function v(){document.getElementById("right1").style.display="block",document.getElementById("right2").style.display="none"}return(0,n.YP)(i,(()=>{console.log("watch 선언"),console.log(i),console.log("watchp 선언")})),console.log("set up 선언"),console.log(i),console.log("set up 선언"),{signupForm:e,validate:d,next:y,back2:v,isPwd:(0,F.iH)(!0),isPwdCheck:(0,F.iH)(!0),email:(0,F.iH)(""),file:(0,F.iH)(null),state:t,checkId:r,options:m,onClickImageUpload:f,onChangeImages:g,imgLabelClick:h,checkName:c,checkPassWord:p,checkEmail:u}}});var E=l(4027),T=l(5269),L=l(4842),_=l(4554),V=l(2165),X=l(6330),q=l(7518),G=l.n(q);z.render=B,z.__scopeId="data-v-76343fce";const Z=z;G()(z,"components",{QImg:E.Z,QForm:T.Z,QInput:L.Z,QIcon:_.Z,QBtn:V.Z,QSelect:X.Z})},3116:(e,t,l)=>{e.exports=l.p+"img/user.3a1a74e2.png"}}]);