"use strict";(self["webpackChunkrtc_frontend"]=self["webpackChunkrtc_frontend"]||[]).push([[155],{155:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var l=t(3673),n=t(2323);const o={id:"mainContent"},i=(0,l.Wm)("div",{style:{"margin-top":"25px","margin-left":"100px","font-weight":"bold","font-size":"25px"}},[(0,l.Wm)("p",null,"관리자 페이지")],-1),m=(0,l.Wm)("div",{style:{"margin-top":"10px","margin-left":"100px","font-size":"14px"}},"사원 직급, 팀 조정 등의 관리가 가능한 페이지 입니다.",-1),s={key:0},r={class:"page"},p={class:"rightside shadow-1"},d=(0,l.Uk)("승인 대기"),u=(0,l.Uk)("가입 승인 대기자 명단입니다."),c=(0,l.Uk)("5 min ago"),g={key:0},f={key:0,class:"empty"};function w(e,a,t,w,b,h){const W=(0,l.up)("q-avatar"),k=(0,l.up)("q-td"),v=(0,l.up)("q-tr"),y=(0,l.up)("q-table"),_=(0,l.up)("q-pagination"),q=(0,l.up)("q-item-label"),x=(0,l.up)("q-item-section"),L=(0,l.up)("q-item"),Q=(0,l.up)("q-separator"),Z=(0,l.up)("q-badge"),U=(0,l.up)("q-icon"),z=(0,l.up)("q-scroll-area"),j=(0,l.up)("q-list");return(0,l.wg)(),(0,l.j4)("div",o,[i,m,(0,l.Wm)(y,{title:"Management",rows:w.acceptmemeber,columns:w.columns,"row-key":"name",pagination:w.pagination,"onUpdate:pagination":a[1]||(a[1]=e=>w.pagination=e),"hide-pagination":"",class:"table"},{body:(0,l.w5)((e=>[(0,l.Wm)(v,{props:e},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.cols,(a=>((0,l.wg)(),(0,l.j4)(k,{key:a.name,props:e},{default:(0,l.w5)((()=>["profileLocation"!=a.name?((0,l.wg)(),(0,l.j4)("span",s,(0,n.zw)(a.value),1)):(0,l.kq)("",!0),"profileLocation"==a.name?((0,l.wg)(),(0,l.j4)(W,{key:1,size:"50px",class:"shadow-10"},{default:(0,l.w5)((()=>[(0,l.Wm)("img",{src:e.row.profileLocation},null,8,["src"])])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"]),(0,l.Wm)("div",r,[(0,l.Wm)(_,{modelValue:w.pagination.page,"onUpdate:modelValue":a[2]||(a[2]=e=>w.pagination.page=e),color:"grey-8",max:w.pagesNumber,size:"sm"},null,8,["modelValue","max"])]),(0,l.Wm)("div",p,[(0,l.Wm)(j,{padding:""},{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[d])),_:1}),(0,l.Wm)(q),(0,l.Wm)(q,{caption:""},{default:(0,l.w5)((()=>[u])),_:1})])),_:1}),(0,l.Wm)(x,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{caption:""},{default:(0,l.w5)((()=>[c])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q,{spaced:""}),(0,l.Wm)(z,{style:{height:"480px","max-width":"400px"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(w.waitmemeber,((e,a)=>((0,l.wg)(),(0,l.j4)("div",{key:a},[w.waitmemeber.length>0?((0,l.wg)(),(0,l.j4)("div",g,[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x,{top:"",avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)("img",{src:e.profileLocation},null,8,["src"])])),_:2},1024)])),_:2},1024),(0,l.Wm)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.name),1)])),_:2},1024),(0,l.Wm)(q,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.email),1)])),_:2},1024),(0,l.Wm)(q,{caption:"",style:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.department),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(x,{side:"",top:"",style:{"margin-top":"-5px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{label:"NEW"})])),_:1}),(0,l.Wm)(x,{side:"",onClick:a=>w.changeUser(e.userId,e.name,e.email)},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{name:"send",color:"green",clickable:"",style:{cursor:"pointer"}})])),_:2},1032,["onClick"])])),_:2},1024)])):(0,l.kq)("",!0)])))),128)),0===w.waitmemeber.length?((0,l.wg)(),(0,l.j4)("div",f," 승인 대기중인 사용자가 없습니다. ")):(0,l.kq)("",!0)])),_:1})])),_:1})])])}var b=t(1959),h=t(7874),W=t(9582);const k=[{name:"profileLocation",align:"left",label:"",field:"profileLocation",style:"width: 10px"},{name:"name",required:!0,label:"이름",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"userId",align:"left",label:"아이디",field:"userId",sortable:!0},{name:"department",align:"left",label:"팀",field:"department",sortable:!0},{name:"position",align:"left",label:"직책",field:"position",sortable:!0},{name:"email",align:"left",label:"이메일",field:"email"},{name:"holiday",align:"left",label:"휴가일수",field:"holiday",sortable:!0}],v={setup(){const e=t(1770),a=(0,W.tv)(),n=(0,b.iH)({sortBy:"desc",descending:!1,page:1,rowsPerPage:7}),o=(0,h.oR)(),i=[],m=[],s=(0,l.Fl)((()=>o.getters["module/getMemberList"]));console.log(s,"groupmemberlist");for(let t=0;t<s.value.length;t++)3===s.value[t].state?m.push(s.value[t]):i.push(s.value[t]);console.log(m,"가입대기 멤버");const r=(0,l.Fl)((()=>Math.ceil(s.value.length/n.value.rowsPerPage))),p=function(t,l,n){console.log("유저권한변경",t),o.dispatch("module/chageUser",t).then((function(t){o.dispatch("module/sendEmail",{name:l,email:n}).then((function(t){e.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size : 16px;">가입 승인 메일이 발송되었습니다.</span>',confirmButtonColor:"#19CE60",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}),o.dispatch("module/memberList").then((function(e){console.log(e,"멤버리스트 디스패치보냈다");for(let a=0;a<e.data.length;a++)for(let l=0;l<t.data.length;l++)e.data[a].department===t.data[l].id&&(e.data[a].department=t.data[l].departmentName,console.log(t));console.log("그룹페이지에서 포문 끝났음"),o.commit("module/setMemberList",e.data),console.log("커밋했음"),a.go(0)})).catch((function(e){console.log(e,"세번째 디스패치 에러")}))})).catch((function(e){console.log(e,"두번째 디스패치 에러")}))}))};return{pagination:n,columns:k,memberList:s,pagesNumber:r,acceptmemeber:i,waitmemeber:m,changeUser:p}}};var y=t(5161),_=t(8186),q=t(3884),x=t(5096),L=t(7300),Q=t(7011),Z=t(3414),U=t(2035),z=t(2350),j=t(5869),N=t(8446),C=t(9721),I=t(4554),T=t(7518),E=t.n(T);v.render=w;const P=v;E()(v,"components",{QTable:y.Z,QTr:_.Z,QTd:q.Z,QAvatar:x.Z,QPagination:L.Z,QList:Q.Z,QItem:Z.Z,QItemSection:U.Z,QItemLabel:z.Z,QSeparator:j.Z,QScrollArea:N.Z,QBadge:C.Z,QIcon:I.Z})}}]);