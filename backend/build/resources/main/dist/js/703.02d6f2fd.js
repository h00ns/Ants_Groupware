"use strict";(self["webpackChunkrtc_frontend"]=self["webpackChunkrtc_frontend"]||[]).push([[703],{9703:(t,e,o)=>{o.r(e),o.d(e,{default:()=>C});var n=o(3673),a=o(8880),l=o(4152),s=o.n(l);const i=(0,n.HX)("data-v-4a4bb2af");(0,n.dD)("data-v-4a4bb2af");const r={class:"header"},m={class:"inner-header flex"},d={id:"loginbox"},c={id:"left"},p={id:"mark"},f={id:"form"},u=(0,n.Wm)("div",{id:"right"},null,-1),g=(0,n.Wm)("div",null,[(0,n.Wm)("svg",{class:"waves",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"},[(0,n.Wm)("defs",null,[(0,n.Wm)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})]),(0,n.Wm)("g",{class:"parallax"},[(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"0",fill:"rgba(255,255,255,0.7"}),(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}),(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}),(0,n.Wm)("use",{"xlink:href":"#gentle-wave",x:"48",y:"7",fill:"#fff"})])])],-1),h=(0,n.Wm)("div",{class:"content flex"},null,-1);(0,n.Cn)();const v=i(((t,e,o,l,i,v)=>{const x=(0,n.up)("q-img"),w=(0,n.up)("q-input"),y=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.j4)(n.HY,null,[(0,n.Wm)("div",r,[(0,n.Wm)("div",m,[(0,n.Wm)("div",d,[(0,n.Wm)("div",c,[(0,n.Wm)("div",p,[(0,n.Wm)(x,{src:s(),style:{width:"200px","margin-left":"135px","margin-top":"75px"}})]),(0,n.Wm)("div",f,[(0,n.Wm)(w,{color:"teal",onKeyup:(0,a.D2)(t.login,["enter"]),modelValue:t.state.form.id,"onUpdate:modelValue":e[1]||(e[1]=e=>t.state.form.id=e),class:"input",filled:"",label:"ID"},null,8,["onKeyup","modelValue"]),(0,n.Wm)(w,{color:"teal",onKeyup:(0,a.D2)(t.login,["enter"]),modelValue:t.state.form.password,"onUpdate:modelValue":e[2]||(e[2]=e=>t.state.form.password=e),class:"input",filled:"",type:"password",label:"Password"},null,8,["onKeyup","modelValue"]),(0,n.Wm)(y,{onClick:t.login,class:"btn;",style:{"background-color":"#00BF6F"},label:"Login"},null,8,["onClick"]),(0,n.Wm)(y,{onClick:t.mvSignUp,class:"btn",style:{color:"#00BF6F"},flat:"",label:"SignUp →"},null,8,["onClick"])])]),u])]),g]),h],64)}));var x=o(1959),w=o(9582),y=o(7874);const W=(0,n.aZ)({name:"login",methods:{mvSignUp(){this.$router.push("/signup")}},setup(){const t=(0,x.qj)({form:{id:"",password:""},image:null}),e=(0,w.tv)(),n=(0,y.oR)();var a=[];const l=o(1770),s=function(){n.dispatch("module/login",{id:t.form.id,password:t.form.password}).then((function(o){localStorage.setItem("token",o.data.accessToken),localStorage.setItem("id",t.form.id),localStorage.setItem("password",t.form.password),n.dispatch("module/requestInfo").then((t=>{const o={id:t.data.userId,name:t.data.name,department:t.data.department,profileLocation:t.data.profileLocation,userState:t.data.state,dpID:t.data.department,position:t.data.position};console.log("유저정보",o),localStorage.setItem("name",o.name),localStorage.setItem("userState",o.userState),localStorage.setItem("departmentId",o.department),localStorage.setItem("position",o.position),n.dispatch("module/departmentInfo").then((function(t){for(let e=0;e<t.data.length;e++)o.department===t.data[e].id&&(o.department=t.data[e].departmentName,n.commit("module/setLoginUser",o),localStorage.setItem("department",o.department),localStorage.setItem("profileLocation",o.profileLocation))})),n.dispatch("module/board",{}).then((function(t){for(let e=0;e<t.data.length;e++)a.push(t.data[e]);n.commit("module/setRowsM",a),a=[],n.commit("module/setChatMode",!1);const o=localStorage.getItem("userState");"3"===o?l.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">승인 대기 상태입니다.</span>',confirmButtonColor:"#ce1919",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}):l.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">환영합니다.</span>',confirmButtonColor:"#19CE60",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'}).then((function(){e.push("/main")}))}))})).catch((t=>{console.log(t,"에러입니다")}))})).catch((function(){l.fire({title:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:16px;">아이디 또는 비밀번호를 확인해주세요</span>',confirmButtonColor:"#ce1919",confirmButtonText:'<span style="font-family:NEXON Lv1 Gothic OTF; font-size:14px;">확인</span>'})}))};return n.dispatch("module/departmentInfo").then((function(t){console.log("axios response"),console.log(t.data),console.log("axios response"),n.commit("module/setDepartmentInfo",t.data),console.log(n.department)})).catch((function(t){console.log(t)})),{state:t,login:s}}});var b=o(4027),I=o(4842),k=o(2165),S=o(7518),N=o.n(S);W.render=v,W.__scopeId="data-v-4a4bb2af";const C=W;N()(W,"components",{QImg:b.Z,QInput:I.Z,QBtn:k.Z})}}]);